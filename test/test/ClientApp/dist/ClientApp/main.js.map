{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/add-flow-page/add-flow-page.component.css","webpack:///./src/app/components/add-flow-page/add-flow-page.component.html","webpack:///./src/app/components/add-flow-page/add-flow-page.component.ts","webpack:///./src/app/components/apistep/apistep.component.css","webpack:///./src/app/components/apistep/apistep.component.html","webpack:///./src/app/components/apistep/apistep.component.ts","webpack:///./src/app/components/flow-item/flow-item.component.css","webpack:///./src/app/components/flow-item/flow-item.component.html","webpack:///./src/app/components/flow-item/flow-item.component.ts","webpack:///./src/app/components/flowlist/flowlist.component.css","webpack:///./src/app/components/flowlist/flowlist.component.html","webpack:///./src/app/components/flowlist/flowlist.component.ts","webpack:///./src/app/components/rule-group/rule-group.component.css","webpack:///./src/app/components/rule-group/rule-group.component.html","webpack:///./src/app/components/rule-group/rule-group.component.ts","webpack:///./src/app/components/simple-rule/simple-rule.component.css","webpack:///./src/app/components/simple-rule/simple-rule.component.html","webpack:///./src/app/components/simple-rule/simple-rule.component.ts","webpack:///./src/app/models/flow.model.ts","webpack:///./src/app/models/flowstep.model.ts","webpack:///./src/app/models/flowsteptypes.enum.ts","webpack:///./src/app/services/flow-engine.service.ts","webpack:///./src/app/services/flow-list.service.ts","webpack:///./src/app/services/local-storage.service.ts","webpack:///./src/app/util/rule-engine.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\"","module.exports = \"<div>\\r\\n  <mat-toolbar color=\\\"primary\\\">\\r\\n    <span class=\\\"d-none d-sm-block\\\">UBS Flow</span>\\r\\n\\r\\n    <span class=\\\"fill-space\\\"></span>\\r\\n  </mat-toolbar>\\r\\n\\r\\n  <app-flowlist></app-flowlist>\\r\\n\\r\\n  <button matTooltip=\\\"Add new flow\\\" class=\\\"btn-fixed btn-pin-bottom btn-pin-right\\\" mat-fab color=\\\"primary\\\" (click)=\\\"addFlowBtnHandler()\\\">\\r\\n    <mat-icon>add</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\\r\\n<div [ngClass]=\\\"this.addPageClass\\\">\\r\\n  <app-add-flow-page>\\r\\n\\r\\n  </app-add-flow-page>\\r\\n</div>\\r\\n\"","import { FlowModel } from \"./models/flow.model\";\r\nimport { FlowListService } from \"./services/flow-list.service\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-root\",\r\n  templateUrl: \"./app.component.html\",\r\n  styleUrls: [\"./app.component.css\"]\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = \"ClientApp\";\r\n\r\n  public addPageVisible: boolean;\r\n\r\n  public addPageClass: string = \"display-none\";\r\n\r\n  constructor(private flowListService: FlowListService) {}\r\n\r\n  addFlowBtnHandler() {\r\n    this.flowListService.navToNewFlow();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.flowListService.EditFlowEvent.subscribe((model: FlowModel) => {\r\n      this.addPageClass = \"show-animation\";\r\n    });\r\n\r\n    this.flowListService.CancelFlowEvent.subscribe(() => {\r\n      this.addPageClass = \"hide-animation\";\r\n      setTimeout(() => {\r\n        this.addPageClass = \"hide-animation display-none\";\r\n      }, 500);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.flowListService.EditFlowEvent.unsubscribe();\r\n    this.flowListService.CancelFlowEvent.unsubscribe();\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\nimport {\r\n  MatButtonModule, MatCardModule, MatCheckboxModule,\r\n  MatDialogModule, MatExpansionModule, MatFormFieldModule,\r\n  MatIconModule, MatInputModule, MatSelectModule, MatSidenavModule,\r\n  MatToolbarModule, MatTooltipModule, MatRadioModule, MatMenuModule\r\n} from '@angular/material';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AppComponent } from './app.component';\r\nimport { AddFlowPageComponent } from './components/add-flow-page/add-flow-page.component';\r\nimport { FlowItemComponent } from './components/flow-item/flow-item.component';\r\nimport { FlowlistComponent } from './components/flowlist/flowlist.component';\r\nimport { RuleGroupComponent } from './components/rule-group/rule-group.component';\r\nimport { SimpleRuleComponent } from './components/simple-rule/simple-rule.component';\r\nimport { ApistepComponent } from './components/apistep/apistep.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    FlowlistComponent,\r\n    FlowItemComponent,\r\n    AddFlowPageComponent,\r\n    RuleGroupComponent,\r\n    SimpleRuleComponent,\r\n    ApistepComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    MatButtonModule,\r\n    MatCheckboxModule,\r\n    MatRadioModule,\r\n    MatSidenavModule,\r\n    MatToolbarModule,\r\n    MatSelectModule,\r\n    MatDialogModule,\r\n    MatIconModule,\r\n    MatFormFieldModule,\r\n    MatTooltipModule,\r\n    MatInputModule,\r\n    CommonModule,\r\n    HttpModule,\r\n    FormsModule,\r\n    MatCardModule,\r\n    MatMenuModule,\r\n    MatExpansionModule,\r\n    RouterModule.forRoot([\r\n      { path: '', redirectTo: 'home', pathMatch: 'full' },\r\n      { path: '**', redirectTo: 'home' }\r\n    ]),\r\n    HttpClientModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \".page-wrapper {\\r\\n  background: #fff;\\r\\n  position: fixed;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.step-wrapper input {\\r\\n  width: 500px;\\r\\n}\\r\\n\\r\\n.step-wrapper .mat-form-field {\\r\\n  width: 90%;\\r\\n}\\r\\n\\r\\n.steps-container .step-card {\\r\\n  width: 800px;\\r\\n  display: block;\\r\\n  margin-top: 10px;\\r\\n}\\r\\n\\r\\n.steps-container {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  -ms-align-items: center;\\r\\n  -o-align-items: center;\\r\\n  align-items: center;\\r\\n  padding: 10px;\\r\\n  overflow: auto;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"page-wrapper\\\">\\r\\n  <mat-toolbar color=\\\"warn\\\">\\r\\n    <mat-form-field *ngIf=\\\"this.model\\\" class=\\\"search-form\\\">\\r\\n      <input type=\\\"text\\\" [value]=\\\"this.model.title\\\" (input)=\\\"titleChangedHandler($event.target.value)\\\" placeholder=\\\"title\\\"\\r\\n        matInput />\\r\\n    </mat-form-field>\\r\\n\\r\\n    <span class=\\\"fill-space\\\"></span>\\r\\n\\r\\n    <button mat-icon-button (click)=\\\"saveBtnHandler()\\\">\\r\\n      <mat-icon matTooltip=\\\"Save\\\" aria-label=\\\"Save\\\">save</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <button mat-icon-button (click)=\\\"cancelBtnHandler()\\\">\\r\\n      <mat-icon matTooltip=\\\"Close\\\" aria-label=\\\"Close\\\">clear</mat-icon>\\r\\n    </button>\\r\\n  </mat-toolbar>\\r\\n\\r\\n  <div *ngIf=\\\"this.model\\\" class=\\\"steps-container\\\">\\r\\n    <div *ngIf=\\\"this.model.steps.length === 0\\\">Add steps to see the list</div>\\r\\n    <mat-accordion multi=\\\"false\\\">\\r\\n      <div *ngFor=\\\"let step of this.model.steps; let I = index\\\">\\r\\n\\r\\n        <app-apistep *ngIf=\\\"step.stepType == 1\\\" class=\\\"step-card\\\" [expanded]=\\\"step\\\" (removeButtonClick)=\\\"removeStepHandler(I)\\\"\\r\\n          [model]=\\\"step\\\">\\r\\n\\r\\n        </app-apistep>\\r\\n\\r\\n        <app-simple-rule *ngIf=\\\"step.stepType == 2\\\" [expanded]=\\\"step\\\" class=\\\"step-card\\\" (removeButtonClick)=\\\"removeStepHandler(I)\\\"\\r\\n          [model]=\\\"step\\\">\\r\\n\\r\\n        </app-simple-rule>\\r\\n\\r\\n      </div>\\r\\n    </mat-accordion>\\r\\n  </div>\\r\\n\\r\\n  <button mat-raised-button color=\\\"warn\\\" class=\\\"btn-fixed btn-pin-bottom btn-pin-right btn-right-1\\\" (click)=\\\"addEmptyStepHandler('rule')\\\">\\r\\n    <mat-icon aria-label=\\\"rule\\\">notes</mat-icon> Add Rule\\r\\n  </button>\\r\\n\\r\\n  <button mat-raised-button color=\\\"warn\\\" class=\\\"btn-fixed btn-pin-bottom btn-pin-right btn-right-2\\\" (click)=\\\"addEmptyStepHandler('url')\\\">\\r\\n    <mat-icon aria-label=\\\"api\\\">cloud</mat-icon> Add Source\\r\\n  </button>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FlowModel } from \"../../models/flow.model\";\r\nimport { FlowStepModel } from \"../../models/flowstep.model\";\r\nimport { FlowStepTypes } from \"../../models/flowsteptypes.enum\";\r\nimport { FlowListService } from '../../services/flow-list.service';\r\nimport { LocalStorageService } from \"../../services/local-storage.service\";\r\n\r\n@Component({\r\n  selector: 'app-add-flow-page',\r\n  templateUrl: './add-flow-page.component.html',\r\n  styleUrls: ['./add-flow-page.component.css']\r\n})\r\nexport class AddFlowPageComponent implements OnInit {\r\n\r\n  public model: FlowModel;\r\n\r\n  constructor(private storageService: LocalStorageService, private flowListService: FlowListService) { }\r\n\r\n  private isEdit: boolean;\r\n\r\n  ngOnInit() {\r\n    this.flowListService.EditFlowEvent.subscribe((model: FlowModel) => {\r\n      if(model) {\r\n        this.isEdit = true;\r\n        this.model = model;\r\n      } else {\r\n        this.isEdit = false;\r\n        this.model = new FlowModel(\"\");\r\n\r\n        this.model.steps = [];\r\n        this.addEmptyStepHandler('url');\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.flowListService.EditFlowEvent.unsubscribe();\r\n  }\r\n\r\n  titleChangedHandler(val: string) {\r\n    this.model.title = val;\r\n  }\r\n\r\n  cancelBtnHandler() {\r\n    this.flowListService.closeEditor();\r\n  }\r\n\r\n  removeStepHandler(index: number) {\r\n    this.model.steps.splice(index, 1);\r\n  }\r\n\r\n  addEmptyStepHandler(stepType: string) {\r\n\r\n    switch (stepType) {\r\n      case 'url':\r\n        const newApi = new FlowStepModel(\"\", \"\", \"\");\r\n        newApi.stepType = FlowStepTypes.API;\r\n        this.model.steps.push(newApi);\r\n        break;\r\n      case 'rule':\r\n        const newRule = new FlowStepModel(\"\", \"\", \"\");\r\n        newRule.stepType = FlowStepTypes.RULE;\r\n        this.model.steps.push(newRule);\r\n        break;\r\n      default: break;\r\n    }\r\n  }\r\n\r\n  validateModel() {\r\n    const err = [];\r\n    const flows = this.flowListService.getFlows();\r\n\r\n    if (!this.model.title) {\r\n      err.push(\"Name is mandatory\");\r\n    }\r\n    if (this.model.steps.length == 0) {\r\n      err.push(\"There should be at least 1 step in the flow\");\r\n    }\r\n    if (!this.isEdit && flows.filter(item => item.title === this.model.title).length) {\r\n      err.push(`Flow with name: ${this.model.title} already exists, try to choose another name`);\r\n    }\r\n\r\n    return err;\r\n  }\r\n\r\n  saveBtnHandler() {\r\n    const errors = this.validateModel();\r\n    if (!errors.length) {\r\n      this.flowListService.addFlow(this.model, this.isEdit);\r\n      this.flowListService.closeEditor();\r\n    } else {\r\n      alert(errors.join(\"\\n\"));\r\n    }\r\n  }\r\n}\r\n","module.exports = \".step-wrapper {\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n}\\r\\n\\r\\n.card-body {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.step-wrapper input {\\r\\n  width: 500px;\\r\\n}\\r\\n\\r\\n.steps-container .step-card {\\r\\n  width: 800px;\\r\\n  display: block;\\r\\n  margin-top: 10px;\\r\\n}\\r\\n\\r\\n.options-container .mat-checkbox,\\r\\n.options-container .mat-radio-button {\\r\\n  margin-right: 20px;\\r\\n}\\r\\n\\r\\n.mat-form-field {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.title {\\r\\n  font-size: 1.4rem;\\r\\n  font-family: \\\"Segoe UI\\\", Arial;\\r\\n}\\r\\n\\r\\n.mat-expansion-panel-header-title {\\r\\n  margin: 0;\\r\\n}\\r\\n\\r\\n.subtitle {\\r\\n  color: #c7c7c7;\\r\\n}\\r\\n\"","module.exports = \"<mat-expansion-panel hideToggle>\\r\\n  <mat-expansion-panel-header>\\r\\n    <mat-panel-title>\\r\\n      <p class=\\\"title\\\"><span class=\\\"subtitle\\\">Request to: </span> <span class=\\\"api-name\\\">{{(this.selected && this.selected.name) || 'api not selected'}}</span> </p>\\r\\n\\r\\n      <span class=\\\"fill-space\\\"></span>\\r\\n\\r\\n      <button mat-icon-button>\\r\\n        <mat-icon matTooltip=\\\"Close\\\" aria-label=\\\"Close\\\" (click)=\\\"removeStepHandler()\\\">clear</mat-icon>\\r\\n      </button>\\r\\n    </mat-panel-title>\\r\\n  </mat-expansion-panel-header>\\r\\n\\r\\n  <div class=\\\"step-wrapper\\\">\\r\\n\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <mat-form-field>\\r\\n        <mat-select placeholder=\\\"Select an application\\\" (selectionChange)=\\\"stepUrlChangedHandler($event.value)\\\">\\r\\n          <mat-option *ngFor=\\\"let item of this.availableUrls\\\" [value]=\\\"item\\\">\\r\\n            {{item.name}}\\r\\n          </mat-option>\\r\\n        </mat-select>\\r\\n      </mat-form-field>\\r\\n\\r\\n      <div class=\\\"options-container\\\" *ngIf=\\\"this.selected\\\">\\r\\n          <div *ngIf=\\\"this.selected.optionsType=='checkbox'\\\">\\r\\n            <mat-checkbox *ngFor=\\\"let item of this.selected.availableOptions\\\" color=\\\"primary\\\">{{item}}</mat-checkbox>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"this.selected.optionsType=='radio'\\\">\\r\\n            <mat-radio-group>\\r\\n              <mat-radio-button *ngFor=\\\"let item of this.selected.availableOptions\\\"\\r\\n                                color=\\\"primary\\\"\\r\\n                                value={{item}}>\\r\\n                {{item}}\\r\\n              </mat-radio-button>\\r\\n            </mat-radio-group>\\r\\n          </div>\\r\\n        </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</mat-expansion-panel>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FlowStepModel } from \"../../models/flowstep.model\";\r\n\r\n@Component({\r\n  selector: 'app-apistep',\r\n  templateUrl: './apistep.component.html',\r\n  styleUrls: ['./apistep.component.css']\r\n})\r\nexport class ApistepComponent implements OnInit {\r\n\r\n  @Input() model: FlowStepModel;\r\n  @Input() expanded: any;\r\n  @Output() removeButtonClick: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  public selected: {\r\n    name: string,\r\n    url: string,\r\n    availableOptions: any[],\r\n    optionsType: string\r\n  };\r\n  //public expanded = true;\r\n\r\n  public availableUrls: any[] = [\r\n    {\r\n      name: \"BPX\",\r\n      url: \"http://www.mocky.io/v2/5b922d8d3100008000939bed\",\r\n      availableOptions: ['banker advanced details', 'opportunity advanced details'],\r\n      optionsType: 'checkbox'\r\n    },\r\n    {\r\n      name: \"Another processing application\",\r\n      url: \"http://localhost:8080/converter/processData\",\r\n      availableOptions: ['calculate currency', 'group by country'],\r\n      optionsType: 'checkbox'\r\n    },\r\n    {\r\n      name: \"Export\",\r\n      url: \"http://localhost:8080/converter/convertToExcel\",\r\n      availableOptions: ['Excel', 'Word'],\r\n      optionsType: 'radio'\r\n    },\r\n    {\r\n      name: \"Local file\",\r\n      url: \"http://localhost:8080/converter/convertToExcel\",\r\n      availableOptions: ['Excel', 'Word'],\r\n      optionsType: 'radio'\r\n    }\r\n  ];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    const item = this.availableUrls.filter(\r\n      (item) => item.name == this.model.title && item.url == this.model.content\r\n    )[0];\r\n\r\n    if(item) {\r\n      this.selected = item;\r\n    }\r\n  }\r\n\r\n  removeStepHandler() {\r\n    this.removeButtonClick.emit();\r\n  }\r\n\r\n  stepUrlChangedHandler(item) {\r\n    this.model.content = item.url;\r\n    this.model.title = item.name;\r\n\r\n    this.selected = item;\r\n  }\r\n}\r\n","module.exports = \".mat-card-title {\\r\\n  font-weight: bold;\\r\\n  font-size: 1.2rem;\\r\\n  font-family: \\\"Segoe UI\\\", Arial;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.absolute {\\r\\n  position: absolute;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n}\\r\\n\\r\\n.flow-item {\\r\\n  display: inline-block;\\r\\n  margin: 10px;\\r\\n  width: 400px;\\r\\n}\\r\\n\\r\\n.mat-card-actions {\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\nli {\\r\\n  list-style: none;\\r\\n  font-size: 1rem;\\r\\n  font-family: \\\"Segoe UI\\\", Arial;\\r\\n}\\r\\n\"","module.exports = \"<mat-card class=\\\"flow-item\\\">\\r\\n  <mat-card-header>\\r\\n    <div class=\\\"absolute\\\">\\r\\n        <span class=\\\"fill-space\\\"></span>\\r\\n\\r\\n        <mat-menu #appMenu=\\\"matMenu\\\">\\r\\n          <button mat-menu-item (click)=\\\"editFlowHandler()\\\">Edit</button>\\r\\n        </mat-menu>\\r\\n\\r\\n        <button style=\\\"float: right\\\" mat-icon-button [matMenuTriggerFor]=\\\"appMenu\\\">\\r\\n          <mat-icon>more_vert</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <mat-card-title class=\\\"card-title\\\">\\r\\n      {{this.model.title}}\\r\\n    </mat-card-title>\\r\\n    <mat-card-subtitle *ngIf=\\\"!this.expanded\\\">\\r\\n      ({{this.model.steps.length}} steps)\\r\\n    </mat-card-subtitle>\\r\\n  </mat-card-header>\\r\\n  <mat-card-content>\\r\\n    <ul *ngIf=\\\"this.expanded && this.model\\\">\\r\\n      <li *ngFor=\\\"let item of this.model.steps; let I = index\\\">\\r\\n        {{I + 1}}) {{item.stepType == 1 ? 'call to:' : 'apply rule:'}} {{item.title}}\\r\\n      </li>\\r\\n    </ul>\\r\\n  </mat-card-content>\\r\\n  <mat-card-actions>\\r\\n    <button mat-icon-button (click)=\\\"toggleExpanded()\\\">\\r\\n      <mat-icon matTooltip=\\\"show flow details\\\" *ngIf=\\\"!this.expanded\\\">expand_more</mat-icon>\\r\\n      <mat-icon matTooltip=\\\"hide flow details\\\" *ngIf=\\\"this.expanded\\\">expand_less</mat-icon>\\r\\n    </button>\\r\\n    <span class=\\\"fill-space\\\"></span>\\r\\n    <button mat-button (click)=\\\"removeFlowHandler()\\\">\\r\\n      <mat-icon>delete</mat-icon>Remove\\r\\n    </button>\\r\\n    <button mat-raised-button color=\\\"primary\\\" (click)=\\\"executeBtnHandler()\\\">\\r\\n      <mat-icon>play_arrow</mat-icon>Execute\\r\\n    </button>\\r\\n  </mat-card-actions>\\r\\n</mat-card>\\r\\n\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FlowModel } from \"../../models/flow.model\";\r\nimport { FlowListService } from '../../services/flow-list.service';\r\nimport { FlowEngineService } from '../../services/flow-engine.service';\r\n\r\n@Component({\r\n  selector: 'app-flow-item',\r\n  templateUrl: './flow-item.component.html',\r\n  styleUrls: ['./flow-item.component.css']\r\n})\r\nexport class FlowItemComponent implements OnInit {\r\n\r\n  @Input() model: FlowModel;\r\n\r\n  public expanded: boolean;\r\n\r\n  constructor(private flowListService: FlowListService, private flowEngineServie: FlowEngineService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  removeFlowHandler() {\r\n    if (confirm(`Are you sure you want to delete flow: ${this.model.title} ?`)) {\r\n      this.flowListService.removeFlow(this.model.title);\r\n    }\r\n  }\r\n\r\n  editFlowHandler() {\r\n    this.flowListService.navToEditFlow(this.model);\r\n  }\r\n\r\n  executeBtnHandler() {\r\n    this.flowEngineServie.execute(this.model);\r\n  }\r\n\r\n  toggleExpanded() {\r\n    this.expanded = !this.expanded;\r\n  }\r\n}\r\n","module.exports = \".flow-items-container {\\r\\n  overflow-x: hidden;\\r\\n  overflow-y: auto;\\r\\n}\\r\\n\\r\\n.no-data {\\r\\n  text-align: center;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"flow-items-container\\\">\\r\\n  <div *ngIf=\\\"this.myFlows.length == 0\\\" class=\\\"no-data\\\">\\r\\n    You have no any saved flows, use create button to create one.\\r\\n  </div>\\r\\n  <div *ngIf=\\\"this.myFlows.length != 0\\\">\\r\\n    <app-flow-item *ngFor=\\\"let flowitem of this.myFlows\\\" [model]=\\\"flowitem\\\"></app-flow-item>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FlowListService } from '../../services/flow-list.service';\r\nimport { FlowModel } from '../../models/flow.model';\r\n\r\n@Component({\r\n  selector: 'app-flowlist',\r\n  templateUrl: './flowlist.component.html',\r\n  styleUrls: ['./flowlist.component.css']\r\n})\r\nexport class FlowlistComponent implements OnInit {\r\n  @Input() filterText: string;\r\n  constructor(private flowListService: FlowListService) { }\r\n\r\n  public myFlows: FlowModel[];\r\n\r\n  ngOnInit() {\r\n    this.myFlows = this.flowListService.getFlows();\r\n  }\r\n}\r\n","module.exports = \"\\r\\n.card {\\r\\n  max-width: 800px;\\r\\n}\\r\\n\\r\\n.header-image {\\r\\n  background-image: url('https://material.angular.io/assets/img/examples/shiba1.jpg');\\r\\n  background-size: cover;\\r\\n}\\r\\n\\r\\n.accordeon-headers-align .mat-expansion-panel-header-title,\\r\\n.accordeon-headers-align .mat-expansion-panel-header-description {\\r\\n  flex-basis: 0;\\r\\n}\\r\\n\\r\\n.accordeon-headers-align .mat-expansion-panel-header-description {\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.mat-form-field {\\r\\n    width: 100%;\\r\\n}\"","module.exports = \"<mat-card class=\\\"card\\\">\\r\\n  <mat-card-header>\\r\\n    <mat-card-title>\\r\\n      <h3>Rules</h3>\\r\\n    </mat-card-title>\\r\\n  </mat-card-header>\\r\\n  <mat-card-content>\\r\\n    <mat-accordion class=\\\"accordeon-headers-align\\\">\\r\\n      <mat-expansion-panel *ngFor=\\\"let rule of rules; let i = index\\\" [expanded]=\\\"pos === i\\\" (opened)=\\\"setPos(i)\\\" hideToggle>\\r\\n        <mat-expansion-panel-header>\\r\\n          <mat-panel-title>\\r\\n            {{rule.name || 'Unnamed'}}\\r\\n          </mat-panel-title>\\r\\n          <button mat-icon-button color=\\\"secondary\\\" (click)=\\\"removeRule(rule)\\\">\\r\\n            <mat-icon aria-label=\\\"Remove rule\\\">remove</mat-icon>\\r\\n          </button>\\r\\n        </mat-expansion-panel-header>\\r\\n        <mat-form-field>\\r\\n          <input matInput placeholder=\\\"Name\\\" name=\\\"name\\\" onfocus=\\\"this.setSelectionRange(0, this.value.length)\\\" (input)=\\\"textChangedHandler($event, rule)\\\"\\r\\n            [value]=\\\"rule.name\\\">\\r\\n        </mat-form-field>\\r\\n        <br>\\r\\n        <mat-form-field>\\r\\n          <input matInput placeholder=\\\"When\\\" name=\\\"condition\\\" (input)=\\\"textChangedHandler($event, rule)\\\" [value]=\\\"rule.condition\\\">\\r\\n        </mat-form-field>\\r\\n        <br>\\r\\n        <mat-form-field>\\r\\n          <textarea matInput placeholder=\\\"Then\\\" name=\\\"action\\\" (input)=\\\"textChangedHandler($event, rule)\\\" [value]=\\\"rule.action\\\"></textarea>\\r\\n        </mat-form-field>\\r\\n      </mat-expansion-panel>\\r\\n    </mat-accordion>\\r\\n  </mat-card-content>\\r\\n  <mat-card-actions>\\r\\n    <button mat-icon-button color=\\\"primary\\\" (click)=\\\"addRule()\\\">\\r\\n      <mat-icon aria-label=\\\"Add rule\\\">add</mat-icon>\\r\\n    </button>\\r\\n  </mat-card-actions>\\r\\n</mat-card>\\r\\n\"","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FlowModel } from \"../../models/flow.model\";\r\n\r\n@Component({\r\n  selector: 'app-rule-group',\r\n  templateUrl: './rule-group.component.html',\r\n  styleUrls: ['./rule-group.component.css']\r\n})\r\nexport class RuleGroupComponent implements OnInit {\r\n\r\n  @Input() model: FlowModel;\r\n\r\n  constructor() { }\r\n\r\n  rules = [{\r\n    name: 'condition 1',\r\n    condition: '$entity.xyz == \"ABC\" and $entity.point == 3',\r\n    action: '$entity.evaluation = 10'\r\n},{\r\n    name: 'condition 2',\r\n    condition: '$entity.point == 2',\r\n    action: `\r\n$entity.evaluation = $entity.point * 2\r\n$entity.xyz = 'XYZ'\r\n    `\r\n},{\r\n    name: 'condition 3',\r\n    condition: '$entity.name == \"Test3\"',\r\n    action: '$entity.evaluation = $entity.evaluation + 2'\r\n}];\r\n\r\n  pos = 0;\r\n\r\n  setPos(index) {\r\n    this.pos = index;\r\n  }\r\n\r\n  textChangedHandler(event: any, rule: any) {\r\n    const val = event.target.value;\r\n    const name = event.target.getAttribute('name');\r\n    rule[name] = val;\r\n  }\r\n\r\n  addRule() {\r\n    this.rules.push({\r\n      name: '',\r\n      condition: '',\r\n      action: ''\r\n    });\r\n  }\r\n\r\n  removeRule(rule) {\r\n    this.rules.splice(this.rules.indexOf(rule), 1);\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n}\r\n","module.exports = \".mat-form-field {\\r\\n  width: 100%;\\r\\n}\\r\\n.title {\\r\\n  font-size: 1.4rem;\\r\\n  font-family: \\\"Segoe UI\\\", Arial;\\r\\n}\\r\\n.mat-expansion-panel-header-title {\\r\\n  margin: 0;\\r\\n}\\r\\n.subtitle {\\r\\n  color: #c7c7c7;\\r\\n}\\r\\n\"","module.exports = \"<mat-expansion-panel hideToggle>\\r\\n    <mat-expansion-panel-header>\\r\\n      <mat-panel-title>\\r\\n        <p class=\\\"title\\\"> <span class=\\\"subtitle\\\">Apply rule:</span> <span class=\\\"api-name\\\">{{this.model.title || 'Unnamed'}}</span> </p>\\r\\n\\r\\n        <span class=\\\"fill-space\\\"></span>\\r\\n\\r\\n        <button mat-icon-button>\\r\\n          <mat-icon matTooltip=\\\"Close\\\" aria-label=\\\"Close\\\" (click)=\\\"removeStepHandler()\\\">clear</mat-icon>\\r\\n        </button>\\r\\n      </mat-panel-title>\\r\\n    </mat-expansion-panel-header>\\r\\n    <mat-form-field>\\r\\n      <input matInput placeholder=\\\"Name\\\" name=\\\"title\\\"\\r\\n             onfocus=\\\"this.setSelectionRange(0, this.value.length)\\\"\\r\\n             (input)=\\\"textChangedHandler($event)\\\"\\r\\n             [value]=\\\"this.model.title\\\">\\r\\n    </mat-form-field>\\r\\n    <br>\\r\\n    <mat-form-field>\\r\\n      <input matInput placeholder=\\\"When\\\" name=\\\"content\\\" (input)=\\\"textChangedHandler($event)\\\" [value]=\\\"this.model.content\\\">\\r\\n    </mat-form-field>\\r\\n    <br>\\r\\n    <mat-form-field>\\r\\n      <textarea matInput placeholder=\\\"Then\\\" name=\\\"action\\\" (input)=\\\"textChangedHandler($event)\\\" [value]=\\\"this.model.action\\\"></textarea>\\r\\n    </mat-form-field>\\r\\n  </mat-expansion-panel>\\r\\n\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FlowStepModel } from '../../models/flowstep.model';\r\n\r\n@Component({\r\n  selector: 'app-simple-rule',\r\n  templateUrl: './simple-rule.component.html',\r\n  styleUrls: ['./simple-rule.component.css']\r\n})\r\nexport class SimpleRuleComponent implements OnInit {\r\n\r\n  @Input() model: FlowStepModel;\r\n  @Input() expanded: any;\r\n  @Output() removeButtonClick: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  //public expanded = true;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  textChangedHandler(event) {\r\n    const name = event.target.getAttribute('name');\r\n    this.model[name] = event.target.value;\r\n  }\r\n\r\n  removeStepHandler() {\r\n    this.removeButtonClick.emit();\r\n  }\r\n}\r\n","import { FlowStepModel } from './flowstep.model';\r\n\r\nexport class FlowModel {\r\n  public steps: FlowStepModel[] = [];\r\n\r\n  constructor(public title: string) {}\r\n}\r\n","import { FlowStepTypes} from \"./flowsteptypes.enum\";\r\n\r\nexport class FlowStepModel {\r\n  public stepType: FlowStepTypes = FlowStepTypes.API;\r\n\r\n  constructor(public title: string, public content: string, public action: string = \"\") {}\r\n}\r\n","export enum FlowStepTypes {\r\n  API = 1,\r\n  RULE = 2\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { FlowModel } from '../models/flow.model';\r\nimport { FlowStepTypes } from '../models/flowsteptypes.enum';\r\nimport RuleEngine from '../util/rule-engine';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FlowEngineService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  async execute(model: FlowModel) {\r\n    let currentContent;\r\n    for (let i = 0; i < model.steps.length; i++) {\r\n      console.log(i);\r\n      const item = model.steps[i];\r\n      switch (item.stepType) {\r\n        case FlowStepTypes.API:\r\n          console.log('REQUEST TO API: ' + item.content);\r\n          let response;\r\n          if (i === 0) {\r\n            response = this.http.get(item.content);\r\n          } else {\r\n            response = this\r\n            .http\r\n            .post(item.content, JSON.stringify(currentContent), {\r\n              headers: new HttpHeaders()\r\n              .set('Content-Type', 'application/json')});\r\n          }\r\n          console.log(i + ': ' + response + ' ' + model.steps.length);\r\n          if (i === model.steps.length - 1) {\r\n            console.log('open ');\r\n            const result = await response.toPromise();\r\n            console.log('open ' + result.url);\r\n            console.log(result.url);\r\n            window.open(result.url);\r\n          } else {\r\n            console.log('nn ');\r\n            currentContent = await response.toPromise();\r\n          }\r\n          break;\r\n        case FlowStepTypes.RULE:\r\n          console.log('APPLY RULE');\r\n          const engine = new RuleEngine([item]);\r\n          currentContent.forEach(entity => engine.exec(entity));\r\n          break;\r\n      default:\r\n        break;\r\n      }\r\n    }\r\n    console.log(JSON.stringify(currentContent));\r\n  }\r\n}\r\n","import { Injectable, EventEmitter } from \"@angular/core\";\r\nimport { FlowModel } from \"../models/flow.model\";\r\nimport { LocalStorageService } from \"./local-storage.service\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class FlowListService {\r\n  public EditFlowEvent: EventEmitter<FlowModel> = new EventEmitter<FlowModel>();\r\n  public CancelFlowEvent: EventEmitter<void> = new EventEmitter<void>();\r\n  private flows: FlowModel[];\r\n\r\n  constructor(private storageService: LocalStorageService) {\r\n    let data = this.storageService.getObj(\"flows\");\r\n\r\n    if (!data || !data.length) {\r\n      data = [];\r\n      this.storageService.setObj(\"flows\", data);\r\n    }\r\n\r\n    this.flows = data;\r\n  }\r\n\r\n  closeEditor(): void {\r\n    this.CancelFlowEvent.emit();\r\n  }\r\n\r\n  navToNewFlow(): void {\r\n    this.EditFlowEvent.emit(null);\r\n  }\r\n\r\n  navToEditFlow(model: FlowModel): void {\r\n    this.EditFlowEvent.emit(model);\r\n  }\r\n\r\n  getFlows(): FlowModel[] {\r\n    return this.flows;\r\n  }\r\n\r\n  addFlow(model: FlowModel, replace: boolean = false) {\r\n    const index = this.flows.findIndex(item => item.title == model.title);\r\n    if (replace && index >= 0) {\r\n      this.flows.splice(index, 1, model);\r\n      this.storageService.setObj(\"flows\", this.flows);\r\n    } else {\r\n      if (index < 0) {\r\n        this.flows.push(model);\r\n        this.storageService.setObj(\"flows\", this.flows);\r\n      }\r\n    }\r\n  }\r\n\r\n  removeFlow(title: string) {\r\n    const index = this.flows.findIndex(flow => flow.title === title);\r\n    if (index >= 0) {\r\n      this.flows.splice(index, 1);\r\n      this.storageService.setObj(\"flows\", this.flows);\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LocalStorageService {\r\n\r\n  private storage = window.localStorage;\r\n  private json = window['JSON'];\r\n\r\n  constructor() { }\r\n\r\n  setObj(name: string, objValue: any) {\r\n    this.storage.setItem(name, this.json.stringify(objValue));\r\n  }\r\n\r\n  getObj(name: string) {\r\n    return this.json.parse(this.storage.getItem(name));\r\n  }\r\n\r\n  setItem(name: string, val: string) {\r\n    this.storage.setItem(name, val);\r\n  }\r\n\r\n  getItem(name: string) {\r\n    return this.storage.getItem(name);\r\n  }\r\n}\r\n","import coffeScript from 'coffeescript';\r\n\r\nexport default class RuleEngine {\r\n\r\n  rules: any[];\r\n    script: string = null;\r\n\r\n    constructor(rules: any[]){\r\n        this.rules = rules;\r\n    }\r\n\r\n    exec($entity){\r\n        if(!this.script){\r\n            this.buildScript($entity);\r\n        }\r\n        eval(this.script);\r\n    }\r\n\r\n    buildScript(e){\r\n        let scripts = ['$entity.appliedRules = [];\\n'];\r\n        scripts = scripts.concat(this.rules.map((rule, index) => {\r\n            let script = Object.keys(e).map(k => `${k}=$entity.${k}`);\r\n            let condition = rule['content']\r\n                .replace(/\\sequals\\s/g, '==')\r\n                .replace(/\\sis\\s*different\\s*of\\s/g, '!=')\r\n                .replace(/\\sis\\s*greater\\s*than\\s*or\\s*equal\\s*to\\s/g, '>=')\r\n                .replace(/\\sis\\s*greater\\s*than\\s/g, '>')\r\n                .replace(/\\sis\\s*less\\s*than\\s*or\\s*equal\\s*to\\s/g, '<=')\r\n                .replace(/\\sis\\s*less\\s*than\\s/g, '<');\r\n            script.push(`if ${condition}\\n  $entity.appliedRules.push(${index})`);\r\n            return coffeScript.compile(script.join('\\n'));\r\n        }));\r\n        scripts = scripts.concat(this.rules.map((rule, index) => {\r\n            let script = Object.keys(e).map(k => `${k}=$entity.${k}`);\r\n            script.push(`if $entity.appliedRules.indexOf(${index}) >= 0\\n${rule['action'].split('\\n').map(line => `  ${line.trim()}`).join('\\n')}`);\r\n            script = script.concat(Object.keys(e).map(k => `$entity.${k}=${k}`));\r\n            return coffeScript.compile(script.join('\\n'));\r\n        }));\r\n        this.script = scripts.join('\\n');\r\n        console.log(this.script)\r\n    }\r\n}\r\n\r\n\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * In development mode, for easier debugging, you can ignore zone related error\r\n * stack frames such as `zone.run`/`zoneDelegate.invokeTask` by importing the\r\n * below file. Don't forget to comment it out in production mode\r\n * because it will have a performance impact when errors are thrown\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}